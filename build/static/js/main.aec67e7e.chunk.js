(this["webpackJsonptravelx-tour-solution"]=this["webpackJsonptravelx-tour-solution"]||[]).push([[0],{76:function(e,t,c){},77:function(e,t,c){},79:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c.n(s),i=c(34),a=c.n(i),r=(c(76),c.p,c(77),c(78),c(22)),l=c(16),o=c(93),j=c(97),d=c(9),b=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],n=t[1];return Object(s.useEffect)((function(){fetch("https://shrouded-meadow-59563.herokuapp.com/packages").then((function(e){return e.json()})).then((function(e){return n(e)}))}),[]),{deals:c,setDeals:n}},u=(c(79),c(2)),h=function(e){var t=e.deal,c=Object(l.g)(),s=t._id,n=t.name,i=t.price,a=t.destination,r=t.img;return Object(u.jsxs)("div",{className:"col-lg-4 col-md-6 col-sm-12",children:[Object(u.jsx)("div",{className:"img-container",children:Object(u.jsx)("img",{className:"w-100",src:r,alt:""})}),Object(u.jsx)("h3",{children:n}),Object(u.jsx)("h6",{children:a}),Object(u.jsx)("button",{onClick:function(){return function(e){var t="/deals/placeorder/".concat(e);c.push(t)}(s)},className:"btn btn-primary",children:"Book Now"}),Object(u.jsxs)("p",{children:["Price: ",i]})]})},O=c.p+"static/media/friends.1cb6f041.jpg",m=c.p+"static/media/maldives.3f1da15a.jpg",x=c.p+"static/media/surf.b1bc5571.jpg",p=c.p+"static/media/concert.279d52b7.jpg",f=c(5),g=c(39),v=c(69),N={apiKey:"AIzaSyD9BJ08pWm_Rcs4r4uyl0VlvNskV0OY19I",authDomain:"travelx-49c24.firebaseapp.com",projectId:"travelx-49c24",storageBucket:"travelx-49c24.appspot.com",messagingSenderId:"657460180875",appId:"1:657460180875:web:a3b6b9b2d3bdfbcab2e18e"};(function(){Object(v.a)(N)})();var y=function(){var e=Object(s.useState)({}),t=Object(d.a)(e,2),c=t[0],n=t[1],i=Object(s.useState)(!0),a=Object(d.a)(i,2),r=a[0],l=a[1],o=Object(g.c)(),j=new g.a;Object(s.useEffect)((function(){var e=Object(g.d)(o,(function(e){n(e||{}),l(!1)}));return function(){return e()}}),[]);return{user:c,setUser:n,signInWithGoogle:function(){return Object(g.f)(o,j)},createAccountWithEmail:function(e,t){return Object(g.b)(o,e,t)},loginWithEmailAndPassword:function(e,t){return Object(g.e)(o,e,t)},isLoading:r,setIsLoading:l,updateName:function(e){Object(g.h)(o.currentUser,{displayName:e}).then((function(){var t=Object(f.a)(Object(f.a)({},c),{},{displayName:e});n(t)})).catch((function(e){}))},logOut:function(){Object(g.g)(o).then((function(){n({})})).catch((function(e){console.log(e)}))}}},w=Object(s.createContext)(),k=function(e){var t=e.children,c=y();return Object(u.jsx)(w.Provider,{value:c,children:t})},S=function(){return Object(s.useContext)(w)},L=(c(86),function(){var e=b().deals;return S().isLoading?Object(u.jsx)("div",{class:"text-center",children:Object(u.jsx)(o.a,{animation:"border",role:"status",children:Object(u.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"slider",children:Object(u.jsxs)(j.a,{fade:!0,children:[Object(u.jsxs)(j.a.Item,{children:[Object(u.jsx)("img",{className:"d-block w-100",src:O,alt:"First slide"}),Object(u.jsxs)(j.a.Caption,{children:[Object(u.jsx)("h3",{className:"slider-title title1",children:"Making the most out of your holiday"}),Object(u.jsx)("p",{className:"text-dark fs-5",children:"TravelX, providing the best packages for friends and family"})]})]}),Object(u.jsxs)(j.a.Item,{children:[Object(u.jsx)("img",{className:"d-block w-100",src:m,alt:"Second slide"}),Object(u.jsxs)(j.a.Caption,{children:[Object(u.jsx)("h3",{className:"slider-title title2",children:"Picture perfect destinations"}),Object(u.jsx)("p",{className:"fs-5",children:"Enjoy the best sunsets with us"})]})]}),Object(u.jsxs)(j.a.Item,{children:[Object(u.jsx)("img",{className:"d-block w-100",src:x,alt:"Third slide"}),Object(u.jsxs)(j.a.Caption,{children:[Object(u.jsx)("h3",{className:"slider-title title3",children:"Beauty of Discovery"}),Object(u.jsx)("p",{className:"text-dark fs-5",children:"Explore and get the best out of yourself"})]})]}),Object(u.jsxs)(j.a.Item,{children:[Object(u.jsx)("img",{className:"d-block w-100",src:p,alt:"Fourth slide"}),Object(u.jsxs)(j.a.Caption,{children:[Object(u.jsx)("h3",{className:"slider-title title4",children:"Experience different cultures "}),Object(u.jsx)("p",{className:"fs-5",children:"Enjoy the best of the cultures"})]})]})]})}),Object(u.jsxs)("div",{className:"container my-5",children:[Object(u.jsx)("h6",{className:"slogan",children:"Travel Save Repeat"}),Object(u.jsx)("h1",{className:"display-5 mb-5",children:" Explore the World with Us"}),Object(u.jsx)("p",{className:"text-success fs-3",children:"Trending Packages"}),Object(u.jsx)("div",{className:"row g-4 mb-5",children:e.map((function(e){return Object(u.jsx)(h,{deal:e},e._id)}))})]})]})}),B=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"404"}),Object(u.jsx)("h4",{children:"Not found"})]})},D=c(95),C=c(94),E=c(96),I=(c(87),function(){var e=S(),t=e.user,c=e.logOut;return Object(u.jsx)("div",{className:"",children:Object(u.jsx)(D.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(u.jsxs)(C.a,{children:[Object(u.jsx)(D.a.Brand,{className:"fw-bold",children:Object(u.jsx)(r.c,{className:"navLink",to:"/home",children:"TravelX"})}),Object(u.jsx)(D.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(u.jsx)(D.a.Collapse,{id:"responsive-navbar-nav",children:Object(u.jsxs)(E.a,{className:"ms-auto",children:[Object(u.jsx)(r.c,{className:"navLink",to:"/home",children:"Home"}),Object(u.jsx)(r.c,{className:"navLink",to:"/destinations",children:"Destinations"}),Object(u.jsx)(r.c,{className:"navLink",to:"/deals",children:"Deals"}),t.displayName&&Object(u.jsxs)(E.a,{children:[Object(u.jsx)(r.c,{className:"navLink",to:"/addnewdeal",children:"Add a New Deal"}),Object(u.jsx)(r.c,{className:"navLink",to:"/mybookings",children:"My Bookings"}),Object(u.jsx)(r.c,{className:"navLink",to:"/manageallbookings",children:"Manage All Bookings"}),Object(u.jsx)("button",{className:"user-name text-warning",children:t.displayName})]}),t.email?Object(u.jsx)("button",{className:"nav-button",onClick:c,children:"Log Out"}):Object(u.jsx)(r.c,{className:"navLink",to:"/login",children:"Login"})]})})]})})})}),P=(c(90),function(){return Object(u.jsx)("div",{className:"footer-container",children:Object(u.jsx)("h6",{className:"display-1 py-5 text-light",children:"This is footer"})})}),T=function(){var e=S().isLoading,t=b().deals;return e?Object(u.jsx)("div",{class:"text-center",children:Object(u.jsx)(o.a,{animation:"border",role:"status",children:Object(u.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{className:"my-5 display-1 text-dark",children:"All deals"}),Object(u.jsx)("div",{className:"row g-4 mb-5",children:t.map((function(e){return Object(u.jsx)(h,{deal:e},e._id)}))})]})},A=function(){var e,t=S(),c=t.signInWithGoogle,n=t.setUser,i=t.setIsLoading,a=t.loginWithEmailAndPassword,o=Object(l.g)(),j=(null===(e=Object(l.h)().state)||void 0===e?void 0:e.from)||"/home",b=Object(s.useState)(""),h=Object(d.a)(b,2),O=h[0],m=h[1],x=Object(s.useState)(""),p=Object(d.a)(x,2),f=p[0],g=p[1];return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"THis is login"}),Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(O,f).then((function(e){i(!0);var t=e.user;n(t),o.push(j)})).catch((function(e){e.code,e.message})).finally((function(){i(!1)}))},children:[Object(u.jsx)("input",{type:"email",onBlur:function(e){m(e.target.value)},placeholder:"Email"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"password",onBlur:function(e){g(e.target.value)},placeholder:"Password"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"submit",value:"Login"})]})}),Object(u.jsx)("div",{className:"my-5",children:Object(u.jsx)("button",{onClick:function(){c().then((function(e){i(!0),n(e.user),o.push(j)})).catch((function(e){return console.log(e)})).finally((function(){i(!1)}))},className:"btn btn-success",children:"Google Sign In"})})]}),Object(u.jsxs)("div",{className:"my-5",children:[Object(u.jsx)("h4",{children:"New User?"}),Object(u.jsx)(r.b,{to:"/register",children:"Please Register"})]})]})},_=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],n=t[1],i=S().isLoading;return Object(s.useEffect)((function(){fetch("https://shrouded-meadow-59563.herokuapp.com/destinations").then((function(e){return e.json()})).then((function(e){return n(e)}))}),[]),i?Object(u.jsx)("div",{class:"text-center",children:Object(u.jsx)(o.a,{animation:"border",role:"status",children:Object(u.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h2",{children:"THis is destinations"}),Object(u.jsx)("div",{className:"row g-4",children:c.map((function(e){return Object(u.jsxs)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:[Object(u.jsx)("div",{className:"img-container",children:Object(u.jsx)("img",{className:"w-100",src:e.img,alt:""})}),Object(u.jsx)("h3",{children:e.name}),Object(u.jsx)("h6",{children:e.description})]})}))})]})},U=function(){var e,t=S(),c=(t.signInWithGoogle,t.createAccountWithEmail),n=t.updateName,i=t.setUser,a=t.setIsLoading,o=Object(l.g)(),j=(null===(e=Object(l.h)().state)||void 0===e?void 0:e.from)||"/home",b=Object(s.useState)(""),h=Object(d.a)(b,2),O=h[0],m=h[1],x=Object(s.useState)(""),p=Object(d.a)(x,2),f=p[0],g=p[1],v=Object(s.useState)(""),N=Object(d.a)(v,2),y=N[0],w=N[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{className:"my-5",children:"Please Register"}),Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:function(e){c(f,y).then((function(e){a(!0),n(O),i(e.user),o.push(j)})).catch((function(e){e.code,e.message})).finally((function(){a(!1)})),e.preventDefault()},children:[Object(u.jsx)("input",{type:"text",onBlur:function(e){console.log(e.target.value),m(e.target.value)},placeholder:"Name"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"email",onBlur:function(e){console.log(e.target.value),g(e.target.value)},placeholder:"Email"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"password",onBlur:function(e){console.log(e.target.value),w(e.target.value)},placeholder:"Password"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"submit",value:"Register"})]})}),Object(u.jsxs)("div",{className:"mb-5",children:[Object(u.jsx)("h3",{className:"mt-5",children:"Already Registered ?"}),Object(u.jsx)(r.b,{to:"/login",children:"Please Login"})]})]})},W=c(60),q=function(){var e=Object(l.i)().id,t=b().deals,c=e,s=t.filter((function(t){return t._id===e})),n=S().user,i=Object(W.a)(),a=i.register,r=i.handleSubmit,o=i.reset,j=i.formState.errors;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"services container ",children:Object(u.jsx)("div",{className:"",children:s.map((function(e){return Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)("img",{className:"w-25",src:e.img,alt:""}),Object(u.jsx)("h3",{className:"w-25 mx-auto bg-primary p-2 rounded-3 text-white",children:e.name})]},e._id)}))})}),Object(u.jsxs)("div",{className:"my-1",children:[Object(u.jsx)("h1",{children:"Please procees to confirm"}),Object(u.jsxs)("form",{className:"shipping-form",onSubmit:r((function(e){var t=e.name,n=e.email,i=e.address,a=e.city,r=e.phone,l={orderId:c,status:"pending",name:t,email:n,address:i,city:a,phone:r};l.itemDetails=s[0],fetch("https://shrouded-meadow-59563.herokuapp.com/bookings",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(l)}).then((function(e){return e.json()})).then((function(e){e.insertedId&&(alert("Booking completed!"),o())}))})),children:[Object(u.jsx)("input",Object(f.a)({defaultValue:n.displayName},a("name"))),Object(u.jsx)("br",{}),Object(u.jsx)("input",Object(f.a)({defaultValue:n.email},a("email",{required:!0}))),Object(u.jsx)("br",{}),j.email&&Object(u.jsx)("span",{className:"error",children:"This field is required"}),Object(u.jsx)("input",Object(f.a)({placeholder:"Address",defaultValue:""},a("address"))),Object(u.jsx)("br",{}),Object(u.jsx)("input",Object(f.a)({placeholder:"City",defaultValue:""},a("city"))),Object(u.jsx)("br",{}),Object(u.jsx)("input",Object(f.a)({placeholder:"Phone",defaultValue:""},a("phone"))),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:"book",type:"submit"})]})]})]})},R=c(10),V=["children"],F=function(e){var t=e.children,c=Object(R.a)(e,V),s=S(),n=s.user;return s.isLoading?Object(u.jsx)("div",{class:"text-center",children:Object(u.jsx)(o.a,{animation:"border",role:"status",children:Object(u.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(u.jsx)(l.b,Object(f.a)(Object(f.a)({},c),{},{render:function(e){var c=e.location;return n.email?t:Object(u.jsx)(l.a,{to:{pathname:"/login",state:{from:c}}})}}))},J=function(){var e=Object(W.a)(),t=e.register,c=e.handleSubmit,s=(e.watch,e.formState.errors),n=e.reset;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Add a new deal"}),Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:c((function(e){var t={name:e.name,price:e.price,destination:e.destination,img:e.img};fetch("https://shrouded-meadow-59563.herokuapp.com/packages",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){e.insertedId&&(alert("New Deal added successfully!"),n())}))})),children:[Object(u.jsx)("input",Object(f.a)({placeholder:"Deal Name "},t("name",{required:!0}))),Object(u.jsx)("br",{}),Object(u.jsx)("input",Object(f.a)({placeholder:"Destination "},t("destination",{required:!0}))),Object(u.jsx)("br",{}),Object(u.jsx)("input",Object(f.a)({placeholder:"Price "},t("price",{required:!0}))),Object(u.jsx)("br",{}),Object(u.jsx)("input",Object(f.a)({placeholder:"Image URL "},t("img",{required:!0}))),Object(u.jsx)("br",{}),s.exampleRequired&&Object(u.jsx)("span",{children:"This field is required"}),Object(u.jsx)("input",{value:"Add",type:"submit"})]})})]})},M=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],n=t[1];return Object(s.useEffect)((function(){fetch("https://shrouded-meadow-59563.herokuapp.com/bookings").then((function(e){return e.json()})).then((function(e){return n(e)}))}),[]),{orders:c,setOrders:n}},G=function(){var e=S().user,t=M(),c=t.orders,s=(t.setOrders,c.filter((function(t){return t.email===e.email})));return Object(u.jsxs)("div",{children:[Object(u.jsxs)("h1",{children:["Total Bookings on website: ",c.length]}),Object(u.jsxs)("h2",{className:"my-5",children:["My Bookings: ",s.length]}),Object(u.jsx)("div",{className:"row g-4",children:s.map((function(e){return Object(u.jsxs)("div",{className:"col-lg-4 col-md-6 col-sm-12",children:[Object(u.jsx)("div",{className:"img-container",children:Object(u.jsx)("img",{className:"w-100",src:e.itemDetails.img,alt:""})}),Object(u.jsx)("h3",{children:e.itemDetails.name}),Object(u.jsx)("h6",{children:e.itemDetails.destination}),Object(u.jsxs)("p",{children:["Price: ",e.itemDetails.price]}),Object(u.jsx)("button",{onClick:function(){return function(e){if(window.confirm("Are you sure you want to delete ?")){var t="https://shrouded-meadow-59563.herokuapp.com/bookings/".concat(e);fetch(t,{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){e.deletedCount>0&&(alert("Booking canceled!"),window.location.reload())}))}}(e._id)},className:"btn btn-warning fw-bold",children:Object(u.jsx)("h3",{children:"Cancel Booking"})})]},e._id)}))})]})},H=function(){S().user;var e=M(),t=e.orders;e.setOrders;return Object(u.jsxs)("div",{children:[Object(u.jsxs)("h1",{className:"my-5",children:["Total Bookings on website: ",t.length]}),Object(u.jsx)("div",{className:"row h-100 mx-auto g-4",children:t.map((function(e){return Object(u.jsxs)("div",{className:"col-lg-2 col-md-3 col-sm-4 col-12",children:[Object(u.jsx)("div",{className:"img-container",children:Object(u.jsx)("img",{className:"w-75",src:e.itemDetails.img,alt:""})}),Object(u.jsx)("h3",{children:e.itemDetails.name}),Object(u.jsx)("h6",{children:e.itemDetails.destination}),Object(u.jsxs)("p",{children:["Price: ",e.itemDetails.price]}),Object(u.jsxs)("p",{children:["Booked By: ",Object(u.jsx)("strong",{children:e.email})]}),Object(u.jsxs)("p",{children:["Order Status: ",Object(u.jsx)("strong",{children:e.status})]}),Object(u.jsx)("button",{onClick:function(){return function(e){if(window.confirm("Are you sure you want to delete ?")){var t="https://shrouded-meadow-59563.herokuapp.com/bookings/".concat(e);fetch(t,{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){e.deletedCount>0&&(alert("Booking canceled!"),window.location.reload())}))}}(e._id)},className:"btn btn-warning fw-bold",children:Object(u.jsx)("h3",{children:"Cancel Booking"})}),Object(u.jsx)("button",{onClick:function(){return function(e){var c=t.filter((function(t){return t._id===e}));c[0].status="Approved";var s=c[0];console.log(s);var n="https://shrouded-meadow-59563.herokuapp.com/manageallorders/".concat(e);fetch(n,{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){e.modifiedCount&&(alert("Order status Updated successfully!"),window.location.reload())}))}(e._id)},className:"btn btn-success",children:"Update Order Status"})]},e._id)}))})]})};var X=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(k,{children:Object(u.jsxs)(r.a,{children:[Object(u.jsx)(I,{}),Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{exact:!0,path:"/",children:Object(u.jsx)(L,{})}),Object(u.jsx)(l.b,{path:"/home",children:Object(u.jsx)(L,{})}),Object(u.jsx)(l.b,{path:"/destinations",children:Object(u.jsx)(_,{})}),Object(u.jsx)(F,{path:"/deals/placeorder/:id",children:Object(u.jsx)(q,{})}),Object(u.jsx)(l.b,{path:"/deals",children:Object(u.jsx)(T,{})}),Object(u.jsx)(F,{path:"/addnewdeal",children:Object(u.jsx)(J,{})}),Object(u.jsx)(F,{path:"/mybookings",children:Object(u.jsx)(G,{})}),Object(u.jsx)(F,{path:"/manageallbookings",children:Object(u.jsx)(H,{})}),Object(u.jsx)(l.b,{path:"/login",children:Object(u.jsx)(A,{})}),Object(u.jsx)(l.b,{path:"/register",children:Object(u.jsx)(U,{})}),Object(u.jsx)(l.b,{path:"*",children:Object(u.jsx)(B,{})})]}),Object(u.jsx)(P,{})]})})})},z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,98)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),s(e),n(e),i(e),a(e)}))};a.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(X,{})}),document.getElementById("root")),z()}},[[91,1,2]]]);
//# sourceMappingURL=main.aec67e7e.chunk.js.map